<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Adam & Lachlan's Rewards Chart</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial, sans-serif;
  background:#f2f7ff;
  margin:0;
  padding:14px;
}

h1{
  text-align:center;
  font-size:32px;
  margin:10px 0 18px;
}

.container{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(340px, 1fr));
  gap:20px;
  max-width:1200px;
  margin:0 auto;
}

.child{
  background:white;
  border-radius:24px;
  padding:16px;
  box-shadow:0 10px 25px rgba(0,0,0,0.12);
}

.avatar{
  width:72px;
  height:72px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:36px;
  margin:0 auto 6px;
}

.child h2{
  text-align:center;
  margin:4px 0 10px;
}

.header{
  font-size:18px;
  font-weight:bold;
  padding:8px;
  border-radius:14px;
  margin-top:12px;
  color:white;
  text-align:center;
}

.morning{background:#ffb347;}
.afternoon{background:#87cefa;}
.evening{background:#9370db;}

.chore{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:17px;
  margin:8px 0;
}

.value{
  font-size:14px;
  color:#444;
}

button{
  font-size:18px;
  border:none;
  border-radius:12px;
  padding:6px 12px;
  background:#ffd93d;
  cursor:pointer;
}

.summary{
  margin-top:12px;
  padding:10px;
  background:#eef6ff;
  border-radius:16px;
  text-align:center;
}

.progress{
  height:20px;
  background:#ddd;
  border-radius:10px;
  overflow:hidden;
  margin-top:6px;
}

.progress-fill{
  height:100%;
  transition:width 0.5s ease;
}

.shop{
  margin-top:12px;
  background:#fff4e6;
  border-radius:16px;
  padding:10px;
}

.shop button{
  display:block;
  width:100%;
  margin-top:6px;
  background:#ff8fab;
  color:white;
}

.parent{
  margin-top:10px;
  text-align:center;
}

.race{
  background:white;
  border-radius:20px;
  padding:12px;
  margin-bottom:18px;
}

.track{
  height:22px;
  background:#ddd;
  border-radius:11px;
  overflow:hidden;
}

.runner{
  height:100%;
  width:0%;
  transition:width 0.5s ease;
}

#winner{
  display:none;
  position:fixed;
  inset:0;
  background:#000c;
  align-items:center;
  justify-content:center;
  color:white;
  font-size:32px;
  text-align:center;
  z-index:10;
}
</style>
</head>

<body>

<h1>â­ Adam & Lachlan's Rewards Chart â­</h1>

<div class="race">
  <b>ğŸ Today's Star Race</b>
  <div>Adam<div class="track"><div id="race0" class="runner" style="background:#4da6ff"></div></div></div>
  <div>Lachlan<div class="track"><div id="race1" class="runner" style="background:#66cc99"></div></div></div>
</div>

<div class="container">
  <div class="child" id="child0"></div>
  <div class="child" id="child1"></div>
</div>

<div id="winner"></div>

<script>
const PIN = "9747";
const DAILY_GOAL = 15;
const WEEKLY_GOAL = 50;

const kids = [
  {name:"Adam", avatar:"ğŸ§‘â€ğŸš€", daily:0, weekly:0, total:0, treats:0},
  {name:"Lachlan", avatar:"ğŸ¯", daily:0, weekly:0, total:0, treats:0}
];

const chores = {
  Morning:[["ğŸ›ï¸ Make bed",2],["ğŸ‘• Get dressed",1]],
  Afternoon:[["ğŸ“š Homework",2],["ğŸ½ï¸ Set table",2]],
  Evening:[["ğŸ§¸ Tidy toys",2],["ğŸš¿ Brush teeth",1]]
};

function render(i){
  const k = kids[i];
  const el = document.getElementById("child"+i);
  el.innerHTML = `
    <div class="avatar">${k.avatar}</div>
    <h2>${k.name}</h2>

    <div class="progress">
      <div class="progress-fill" style="width:${Math.min(k.daily/DAILY_GOAL*100,100)}%;background:#66cc99"></div>
    </div>
  `;

  for(let section in chores){
    el.innerHTML += `<div class="header ${section.toLowerCase()}">${section}</div>`;
    chores[section].forEach(c=>{
      el.innerHTML += `
        <div class="chore">
          <span>${c[0]} <span class="value">â­${c[1]}</span></span>
          <button onclick="done(${i},${c[1]})">âœ“</button>
        </div>`;
    });
  }

  el.innerHTML += `
    <div class="summary">
      â­ Today: ${k.daily}<br>
      â­ This Week: ${k.weekly}<br>
      â­ Total: ${k.total}
    </div>

    <div class="shop">
      <b>ğŸ Rewards</b>
      <button onclick="treat(${i})">ğŸª Treat â€“ â­5</button>
      <button onclick="weekly(${i})">ğŸ¥ Movie Night â€“ â­50</button>
    </div>

    <div class="parent">
      <button onclick="reset(${i})">ğŸ”’ Parent Reset</button>
    </div>
  `;
}

function done(i,s){
  kids[i].daily+=s;
  kids[i].weekly+=s;
  kids[i].total+=s;
  update();
  if(kids[i].daily>=DAILY_GOAL) win(i);
}

function treat(i){
  if(kids[i].total<5) return alert("Not enough stars");
  if(prompt("Enter PIN")===PIN){
    kids[i].total-=5;
    update();
  }
}

function weekly(i){
  if(kids[i].weekly<50) return alert("Not enough weekly stars");
  if(prompt("Enter PIN")===PIN){
    kids[i].weekly-=50;
    update();
  }
}

function reset(i){
  if(prompt("Enter PIN")===PIN){
    kids[i].daily=kids[i].weekly=kids[i].total=0;
    update();
  }
}

function update(){
  kids.forEach((k,i)=>{
    document.getElementById("race"+i).style.width =
      Math.min(k.daily/DAILY_GOAL*100,100)+"%";
    render(i);
  });
  localStorage.setItem("kids",JSON.stringify(kids));
}

function win(i){
  const w=document.getElementById("winner");
  w.style.display="flex";
  w.textContent=`ğŸ‰ ${kids[i].name} Wins Today! ğŸ‰`;
  setTimeout(()=>w.style.display="none",4000);
}

const saved = localStorage.getItem("kids");
if(saved) kids.splice(0,kids.length,...JSON.parse(saved));
update();
</script>

</body>
</html>
